!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):n.v8n=t()}(this,function(){"use strict";var a=function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")},n=function(){function r(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(n,t,e){return t&&r(n.prototype,t),e&&r(n,e),n}}(),o=function(){function i(n,t,e,r){a(this,i),this.name=n,this.fn=t,this.args=e,this.modifiers=r}return n(i,[{key:"_test",value:function(n){var t=this.fn;try{t(n)}catch(n){t=function(){return!1}}try{return u(this.modifiers.slice(),t)(n)}catch(n){return!1}}},{key:"_check",value:function(n){try{this.fn(n)}catch(n){if(u(this.modifiers.slice(),function(n){return n})(!1))return}if(!u(this.modifiers.slice(),this.fn)(n))throw null}},{key:"_testAsync",value:function(r){var n=this;return new Promise(function(t,e){(function n(t,e){{if(t.length){var r=t.shift(),i=n(t,e);return r.performAsync(i)}return function(n){return Promise.resolve(e(n))}}})(n.modifiers.slice(),n.fn)(r).then(function(n){n?t(r):e(null)}).catch(function(n){return e(n)})})}}]),i}();function u(n,t){if(n.length){var e=n.shift(),r=u(n,t);return e.perform(r)}return t}var r=function n(t,e,r){a(this,n),this.name=t,this.perform=e,this.performAsync=r},c=function(n){function f(n,t,e,r){a(this,f);for(var i=arguments.length,u=Array(4<i?i-4:0),o=4;o<i;o++)u[o-4]=arguments[o];var c=function(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,u));return Error.captureStackTrace&&Error.captureStackTrace(c,f),c.rule=n,c.value=t,c.cause=e,c.target=r,c}return function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}(f,Error),f}(),t=function(){function e(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];a(this,e),this.chain=n,this.nextRuleModifiers=t}return n(e,[{key:"_applyRule",value:function(r,i){var u=this;return function(){for(var n=arguments.length,t=Array(n),e=0;e<n;e++)t[e]=arguments[e];return u.chain.push(new o(i,r.apply(u,t),t,u.nextRuleModifiers)),u.nextRuleModifiers=[],u}}},{key:"_applyModifier",value:function(n,t){return this.nextRuleModifiers.push(new r(t,n.simple,n.async)),this}},{key:"_clone",value:function(){return new e(this.chain.slice(),this.nextRuleModifiers.slice())}},{key:"test",value:function(t){return this.chain.every(function(n){return n._test(t)})}},{key:"testAll",value:function(e){var r=[];return this.chain.forEach(function(t){try{t._check(e)}catch(n){r.push(new c(t,e,n))}}),r}},{key:"check",value:function(e){this.chain.forEach(function(t){try{t._check(e)}catch(n){throw new c(t,e,n)}})}},{key:"testAsync",value:function(e){var r=this;return new Promise(function(n,t){!function n(t,e,r,i){if(e.length){var u=e.shift();u._testAsync(t).then(function(){n(t,e,r,i)},function(n){i(new c(u,t,n))})}else r(t)}(e,r.chain.slice(),n,t)})}}]),e}();function e(){return function r(i){return new Proxy(i,{get:function(n,t){if(t in n)return n[t];var e=r(i._clone());return t in s?e._applyModifier(s[t],t):t in f?e._applyRule(f[t],t):t in l?e._applyRule(l[t],t):void 0}})}(new t)}var f={};e.extend=function(n){Object.assign(f,n)},e.clearCustomRules=function(){f={}};var s={not:{simple:function(t){return function(n){return!t(n)}},async:function(t){return function(n){return Promise.resolve(t(n)).then(function(n){return!n})}}},some:{simple:function(t){return function(n){return i(n).some(t)}},async:function(t){return function(n){return Promise.all(i(n).map(t)).then(function(n){return n.some(Boolean)})}}},every:{simple:function(t){return function(n){return i(n).every(t)}},async:function(t){return function(n){return Promise.all(i(n).map(t)).then(function(n){return n.every(Boolean)})}}}};function i(n){return"string"==typeof n?n.split(""):n}var l={pattern:h,equal:function(t){return function(n){return n==t}},exact:function(t){return function(n){return n===t}},string:p("string"),number:function(){var t=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];return function(n){return"number"==typeof n&&(t||isFinite(n))}},boolean:p("boolean"),undefined:p("undefined"),null:p("null"),array:p("array"),object:p("object"),lowercase:y(/^([a-z]+\s*)+$/),uppercase:y(/^([A-Z]+\s*)+$/),vowel:y(/^[aeiou]+$/i),consonant:y(/^(?=[^aeiou])([a-z]+)$/i),first:v(0),last:v(-1),empty:d(0,0),length:d(),minLength:d(void 0,1/0),maxLength:d(-1/0),negative:m(-1/0,0),positive:m(-1,1/0),between:m(void 0,void 0,!0,!0),range:m(void 0,void 0,!0,!0),lessThan:m(-1/0),lessThanOrEqual:m(-1/0,void 0,void 0,!0),greaterThan:m(void 0,1/0),greaterThanOrEqual:m(void 0,1/0,!0),even:g(2,!0),odd:g(2,!1),includes:function(n){return t=n,function(n){return-1!==n.indexOf(t)};var t},integer:function(){return function(n){return Number.isInteger(n)||"number"==typeof(t=n)&&isFinite(t)&&Math.floor(t)===t;var t}},schema:function(n){return i=n,function(e){var r=[];if(Object.keys(i).forEach(function(t){var n=i[t];try{n.check((e||{})[t])}catch(n){n.target=t,r.push(n)}}),0<r.length)throw r;return!0};var i},passesAnyOf:function(){for(var n=arguments.length,e=Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(t){return e.some(function(n){return n.test(t)})}},optional:function(t){return function(n){return null==n||t.check(n),!0}}};function h(t){return function(n){return t.test(n)}}function y(n){return function(){return h(n)}}function p(t){return function(){return function(n){return typeof n===t||null===n&&"null"===t||Array.isArray(n)&&"array"===t}}}function v(e){return function(t){return function(n){return n[e<0?n.length+e:e]==t}}}function d(r,i){return function(t,e){return function(n){return n.length>=b([r,t])&&n.length<=b([i,e,t])}}}function m(r,i,u,o){return function(t,e){return function(n){return e=b([i,e,t]),t=b([r,t]),(u?t<=n:t<n)&&(o?n<=e:n<e)}}}function g(t,e){return function(){return function(n){return n%t==0===e}}}function b(n){return n.find(function(n){return void 0!==n})}return e});
//# sourceMappingURL=v8n.min.js.map
